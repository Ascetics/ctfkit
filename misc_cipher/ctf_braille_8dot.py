# -*- coding: UTF-8 -*-
"""
braille 8 dot 盲文
utf-8 8 dot 盲文区段
目前支持ascii字符集中的大小写字母、数字、可打印的符号、空白符中的等号
"""


def enc(string):
    braille_enc_dic = {'A': '⡱', 'B': '⡲', 'C': '⡳', 'D': '⡴', 'E': '⡵',
                       'F': '⡶', 'G': '⡷', 'H': '⡸', 'I': '⡹', 'J': '⡺',
                       'K': '⡻', 'L': '⡼', 'M': '⡽', 'N': '⡾', 'O': '⡿',
                       'P': '⡠', 'Q': '⡡', 'R': '⡢', 'S': '⡣', 'T': '⡤',
                       'U': '⡥', 'V': '⡦', 'W': '⡧', 'X': '⡨', 'Y': '⡩',
                       'Z': '⡪',
                       'a': '⡑', 'b': '⡒', 'c': '⡓', 'd': '⡔',
                       'e': '⡕', 'f': '⡖', 'g': '⡗', 'h': '⡘', 'i': '⡙',
                       'j': '⡚', 'k': '⡛', 'l': '⡜', 'm': '⡝', 'n': '⡞',
                       'o': '⡟', 'p': '⡀', 'q': '⡁', 'r': '⡂', 's': '⡃',
                       't': '⡄', 'u': '⡅', 'v': '⡆', 'w': '⡇', 'x': '⡈',
                       'y': '⡉', 'z': '⡊',
                       # 数字
                       '0': '⠀', '1': '⠁', '2': '⠂', '3': '⠃', '4': '⠄',
                       '5': '⠅', '6': '⠆', '7': '⠇', '8': '⠈', '9': '⠉',
                       # 符号
                       '~': '⡎', '!': '⠑', '@': '⡰', '#': '⠓', '$': '⠔',
                       '%': '⠕', '^': '⡮', '&': '⠖', '*': '⠚', '(': '⠘',
                       ')': '⠙', '_': '⡯', '+': '⠛', '`': '⡐', '-': '⠝',
                       '=': '⠍', '[': '⡫', ']': '⡭', '{': '⡋', '}': '⡍',
                       '\\': '⡬', '|': '⡌', ';': '⠋', ':': '⠊', '\'': '⠗',
                       '"': '⠒', ',': '⠜', '.': '⠞', '/': '⠟', '<': '⠌',
                       '>': '⠎', '?': '⠏',
                       # 空白符
                       ' ': '⠐',
                       }
    result = []
    for i, c in enumerate(string):
        if braille_enc_dic.get(c):
            result.append(braille_enc_dic.get(c))
        else:
            print(i, c)
    return ''.join(result)


def dec(string):
    braille_dec_dic = {'⡱': 'A', '⡲': 'B', '⡳': 'C', '⡴': 'D', '⡵': 'E',
                       '⡶': 'F', '⡷': 'G', '⡸': 'H', '⡹': 'I', '⡺': 'J',
                       '⡻': 'K', '⡼': 'L', '⡽': 'M', '⡾': 'N', '⡿': 'O',
                       '⡠': 'P', '⡡': 'Q', '⡢': 'R', '⡣': 'S', '⡤': 'T',
                       '⡥': 'U', '⡦': 'V', '⡧': 'W', '⡨': 'X', '⡩': 'Y',
                       '⡪': 'Z',
                       '⡑': 'a', '⡒': 'b', '⡓': 'c', '⡔': 'd', '⡕': 'e',
                       '⡖': 'f', '⡗': 'g', '⡘': 'h', '⡙': 'i', '⡚': 'j',
                       '⡛': 'k', '⡜': 'l', '⡝': 'm', '⡞': 'n', '⡟': 'o',
                       '⡀': 'p', '⡁': 'q', '⡂': 'r', '⡃': 's', '⡄': 't',
                       '⡅': 'u', '⡆': 'v', '⡇': 'w', '⡈': 'x', '⡉': 'y',
                       '⡊': 'z',
                       # 数字
                       '⠀': '0', '⠁': '1', '⠂': '2', '⠃': '3', '⠄': '4',
                       '⠅': '5', '⠆': '6', '⠇': '7', '⠈': '8', '⠉': '9',
                       # 符号
                       '⡎': '~', '⠑': '!', '⡰': '@', '⠓': '#', '⠔': '$',
                       '⠕': '%', '⡮': '^', '⠖': '&', '⠚': '*', '⠘': '(',
                       '⠙': ')', '⡯': '_', '⠛': '+', '⡐': '`', '⠝': '-',
                       '⠍': '=', '⡫': '[', '⡭': ']', '⡋': '{', '⡍': '}',
                       '⡬': '\\', '⡌': '|', '⠋': ';', '⠊': ':', '⠗': '\'',
                       '⠒': '"', '⠜': ',', '⠞': '.', '⠟': '/',
                       '⠌': '<', '⠎': '>', '⠏': '?',
                       # 空白符
                       '⠐': ' ', }
    result = []
    for i, c in enumerate(string.replace('=', '')):
        if braille_dec_dic.get(c):
            result.append(braille_dec_dic.get(c))
        else:
            print(i, c)
    return ''.join(result)


if __name__ == '__main__':
    s = 'wctf2020{y$0$u_f$1$n$d$_M$e$e$e$e$e}'
    braille_text = enc(s)
    print(braille_text)
    plain_text = dec(braille_text)
    print(plain_text)
